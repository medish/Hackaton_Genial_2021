{"version":3,"file":"http-client-in-memory-web-api.module.js","sources":["http-client-in-memory-web-api.module.ts"],"names":[],"mappings":"AAAA,mCAAmC;;AAEnC;AACqB;AAMjB;AAIkC;AAGR;AAGxB;AAjBN,OAAO,EAAE,QAAQ,EAA6B,MAAM,eAAe,CAAC;AACpE,OAAO,EAAE,WAAW,EAAE,UAAU,EAAE,MAAM,sBAAsB,CAAC;AAE/D,OAAO,EAEL,qBAAqB,EACrB,iBAAiB,EAClB,MAAM,cAAc,CAAC;AAEtB,OAAO,EAAE,wBAAwB,EAAE,MAAM,+BAA+B,CAAC;AAEzE,kEAAkE;AAClE,sCAAsC;AACtC,MAAM,UAAU,oCAAoC,CAClD,SAA4B,EAC5B,OAA8B,EAC9B,UAAsB;AACrB,IACD,IAAM,OAAO,GAAQ,IAAI,wBAAwB,CAAC,SAAS,EAAE,OAAO,EAAE,UAAU,CAAC,CAAC;AACnF,IAAC,OAAO,OAAO,CAAC;AACjB,CAAC;AAGD;AAEe,IAFf;AAA6C,IAwC7C,CAAC;AACA,uCAzCY,8BAA8B;AAC3C,IAAE;AACD;AACG;AACG;AAED;AAAO;AACG;AAED;AAAO;AACG;AAGd;AAAO;AAAgB;AACG;AAEF,MAD/B;AACH,IAAQ,sCAAO,GAAd,UAAe,SAAkC,EAAE,OAAmC;AACtF,QACE,OAAO;AACV,YAAK,QAAQ,EAAE,gCAA8B;AAC7C,YAAK,SAAS,EAAE;AAChB,gBAAO,EAAE,OAAO,EAAE,iBAAiB,EAAG,QAAQ,EAAE,SAAS,EAAE;AAC3D,gBAAO,EAAE,OAAO,EAAE,qBAAqB,EAAE,QAAQ,EAAE,OAAO,EAAE;AAE7D,gBAAQ,EAAE,OAAO,EAAE,WAAW;AAC7B,oBAAS,UAAU,EAAE,oCAAoC;AACzD,oBAAS,IAAI,EAAE,CAAC,iBAAiB,EAAE,qBAAqB,EAAE,UAAU,CAAC,EAAC;AACtE,aAAM;AACN,SAAI,CAAC;AACL,IAAC,CAAC;AACD,IAAE;AACH;AACC;AACC;AACC;AACC,KAAA;AACJ,IAAQ,yCAAU,GAAjB,UAAkB,SAAkC,EAAE,OAAmC;AACzF,QACE,OAAO,gCAA8B,CAAC,OAAO,CAAC,SAAS,EAAE,OAAO,CAAC,CAAC;AACrE,IAAC,CAAC;AAEH;KAzCa,8BAA8B,4DAD1C,QAAQ,CAAC,EAAE,CAAC,SACA;AAA8B,CAwC1C;;;;;gDACD;AAAE,IADF,qCAAC;AACC,CADD,AAxCD,IAwCC;AACA,SAzCY,8BAA8B;AACzC","sourcesContent":["////// HttpClient-Only version ////\n\nimport { NgModule, ModuleWithProviders, Type } from '@angular/core';\nimport { HttpBackend, XhrFactory } from '@angular/common/http';\n\nimport {\n  InMemoryBackendConfigArgs,\n  InMemoryBackendConfig,\n  InMemoryDbService\n} from './interfaces';\n\nimport { HttpClientBackendService } from './http-client-backend.service';\n\n// Internal - Creates the in-mem backend for the HttpClient module\n// AoT requires factory to be exported\nexport function httpClientInMemBackendServiceFactory(\n  dbService: InMemoryDbService,\n  options: InMemoryBackendConfig,\n  xhrFactory: XhrFactory,\n): HttpBackend {\n  const backend: any = new HttpClientBackendService(dbService, options, xhrFactory);\n  return backend;\n}\n\n@NgModule({})\nexport class HttpClientInMemoryWebApiModule {\n  /**\n  *  Redirect the Angular `HttpClient` XHR calls\n  *  to in-memory data store that implements `InMemoryDbService`.\n  *  with class that implements InMemoryDbService and creates an in-memory database.\n  *\n  *  Usually imported in the root application module.\n  *  Can import in a lazy feature module too, which will shadow modules loaded earlier\n  *\n  * @param {Type} dbCreator - Class that creates seed data for in-memory database. Must implement InMemoryDbService.\n  * @param {InMemoryBackendConfigArgs} [options]\n  *\n  * @example\n  * HttpInMemoryWebApiModule.forRoot(dbCreator);\n  * HttpInMemoryWebApiModule.forRoot(dbCreator, {useValue: {delay:600}});\n  */\n  static forRoot(dbCreator: Type<InMemoryDbService>, options?: InMemoryBackendConfigArgs):\n    ModuleWithProviders<HttpClientInMemoryWebApiModule> {\n    return {\n      ngModule: HttpClientInMemoryWebApiModule,\n      providers: [\n        { provide: InMemoryDbService,  useClass: dbCreator },\n        { provide: InMemoryBackendConfig, useValue: options },\n\n        { provide: HttpBackend,\n          useFactory: httpClientInMemBackendServiceFactory,\n          deps: [InMemoryDbService, InMemoryBackendConfig, XhrFactory]}\n      ]\n    };\n  }\n    /**\n   *\n   * Enable and configure the in-memory web api in a lazy-loaded feature module.\n   * Same as `forRoot`.\n   * This is a feel-good method so you can follow the Angular style guide for lazy-loaded modules.\n   */\n  static forFeature(dbCreator: Type<InMemoryDbService>, options?: InMemoryBackendConfigArgs):\n    ModuleWithProviders<HttpClientInMemoryWebApiModule> {\n    return HttpClientInMemoryWebApiModule.forRoot(dbCreator, options);\n  }\n}\n"]}